import pool from '../src/config/database.js';
import dotenv from 'dotenv';

dotenv.config();

const services = [
  {
    title: '–ú—É–∂—Å–∫–∞—è —Å—Ç—Ä–∏–∂–∫–∞ –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è',
    description: '–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è –º—É–∂—Å–∫–∞—è —Å—Ç—Ä–∏–∂–∫–∞ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ç–µ—Ö–Ω–∏–∫. –í–∫–ª—é—á–∞–µ—Ç –º—ã—Ç—å–µ –≥–æ–ª–æ–≤—ã, —Å—Ç—Ä–∏–∂–∫—É –º–∞—à–∏–Ω–∫–æ–π –∏ –Ω–æ–∂–Ω–∏—Ü–∞–º–∏, —É–∫–ª–∞–¥–∫—É.',
    price: 1290,
    duration: 35,
  },
  {
    title: '–ñ–µ–Ω—Å–∫–∞—è —Å—Ç—Ä–∏–∂–∫–∞ —Å —É–∫–ª–∞–¥–∫–æ–π',
    description: '–°—Ç–∏–ª—å–Ω–∞—è –∂–µ–Ω—Å–∫–∞—è —Å—Ç—Ä–∏–∂–∫–∞ –ª—é–±–æ–π —Å–ª–æ–∂–Ω–æ—Å—Ç–∏. –ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è —Å—Ç–∏–ª–∏—Å—Ç–∞, –º—ã—Ç—å–µ –≥–æ–ª–æ–≤—ã, —Å—Ç—Ä–∏–∂–∫–∞, —É–∫–ª–∞–¥–∫–∞ —Ñ–µ–Ω–æ–º –∏ —Å—Ç–∞–π–ª–∏–Ω–≥-—Å—Ä–µ–¥—Å—Ç–≤–∞–º–∏.',
    price: 2490,
    duration: 60,
  },
  {
    title: '–°—Ç—Ä–∏–∂–∫–∞ –∏ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –±–æ—Ä–æ–¥—ã',
    description: '–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è —Å—Ç—Ä–∏–∂–∫–∞ –∏ —É–∫–ª–∞–¥–∫–∞ –±–æ—Ä–æ–¥—ã. –ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ —Ñ–æ—Ä–º—ã, –ø–æ–¥—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ, —É–∫–ª–∞–¥–∫–∞ –º–∞—Å–ª–æ–º –∏–ª–∏ –≤–æ—Å–∫–æ–º.',
    price: 890,
    duration: 25,
  },
  {
    title: '–ú—É–∂—Å–∫–æ–π –∫–æ–º–ø–ª–µ–∫—Å: —Å—Ç—Ä–∏–∂–∫–∞ + –±–æ—Ä–æ–¥–∞',
    description: '–ü–æ–ª–Ω—ã–π –∫–æ–º–ø–ª–µ–∫—Å —É—Å–ª—É–≥ –¥–ª—è –º—É–∂—á–∏–Ω: —Å—Ç—Ä–∏–∂–∫–∞ –≤–æ–ª–æ—Å + –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –±–æ—Ä–æ–¥—ã. –≠–∫–æ–Ω–æ–º–∏—è 300‚ÇΩ –ø—Ä–∏ –∑–∞–∫–∞–∑–µ –∫–æ–º–ø–ª–µ–∫—Å–∞.',
    price: 1890,
    duration: 50,
  },
  {
    title: '–û–∫—Ä–∞—à–∏–≤–∞–Ω–∏–µ –≤–æ–ª–æ—Å',
    description: '–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–µ –æ–∫—Ä–∞—à–∏–≤–∞–Ω–∏–µ –≤–æ–ª–æ—Å –ª—é–±–æ–π —Å–ª–æ–∂–Ω–æ—Å—Ç–∏. –ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è –∫–æ–ª–æ—Ä–∏—Å—Ç–∞, –ø–æ–¥–±–æ—Ä –æ—Ç—Ç–µ–Ω–∫–∞, –æ–∫—Ä–∞—à–∏–≤–∞–Ω–∏–µ, —É—Ö–æ–¥ –∏ —É–∫–ª–∞–¥–∫–∞.',
    price: 3990,
    duration: 120,
  },
  {
    title: '–ú–µ–ª–∏—Ä–æ–≤–∞–Ω–∏–µ',
    description: '–ß–∞—Å—Ç–∏—á–Ω–æ–µ –æ–∫—Ä–∞—à–∏–≤–∞–Ω–∏–µ –≤–æ–ª–æ—Å —Ç–µ—Ö–Ω–∏–∫–æ–π –º–µ–ª–∏—Ä–æ–≤–∞–Ω–∏—è. –°–æ–∑–¥–∞–Ω–∏–µ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —ç—Ñ—Ñ–µ–∫—Ç–∞ –≤—ã–≥–æ—Ä–µ–≤—à–∏—Ö –Ω–∞ —Å–æ–ª–Ω—Ü–µ –ø—Ä—è–¥–µ–π.',
    price: 4590,
    duration: 150,
  },
  {
    title: '–û–º–±—Ä–µ/–ë–∞–ª–∞—è–∂',
    description: '–ú–æ–¥–Ω–∞—è —Ç–µ—Ö–Ω–∏–∫–∞ –æ–∫—Ä–∞—à–∏–≤–∞–Ω–∏—è —Å –ø–ª–∞–≤–Ω—ã–º –ø–µ—Ä–µ—Ö–æ–¥–æ–º —Ü–≤–µ—Ç–∞. –ò–¥–µ–∞–ª—å–Ω–æ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –æ–±—ä–µ–º–Ω–æ–≥–æ —ç—Ñ—Ñ–µ–∫—Ç–∞.',
    price: 5290,
    duration: 180,
  },
  {
    title: '–ú—É–∂—Å–∫–∞—è —Å—Ç—Ä–∏–∂–∫–∞ –ø—Ä–µ–º–∏—É–º',
    description: '–ü—Ä–µ–º–∏—É–º —Å—Ç—Ä–∏–∂–∫–∞ —Å –≥–æ—Ä—è—á–∏–º –ø–æ–ª–æ—Ç–µ–Ω—Ü–µ–º, –º–∞—Å—Å–∞–∂–µ–º –≥–æ–ª–æ–≤—ã –∏ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–π —É–∫–ª–∞–¥–∫–æ–π –ø—Ä–µ–º–∏—É–º —Å—Ä–µ–¥—Å—Ç–≤–∞–º–∏.',
    price: 1890,
    duration: 45,
  },
  {
    title: '–ö–æ—Ä—Ä–µ–∫—Ü–∏—è —Ñ–æ—Ä–º—ã –±–æ—Ä–æ–¥—ã',
    description: '–ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ —Ñ–æ—Ä–º—ã –±–æ—Ä–æ–¥—ã —Å —É—á–µ—Ç–æ–º —Ç–∏–ø–∞ –ª–∏—Ü–∞. –°—Ç—Ä–∏–∂–∫–∞, –ø–æ–¥—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ, —Ñ–∏–Ω–∞–ª—å–Ω–∞—è —É–∫–ª–∞–¥–∫–∞.',
    price: 690,
    duration: 20,
  },
  {
    title: '–ñ–µ–Ω—Å–∫–∞—è —Å—Ç—Ä–∏–∂–∫–∞ –ø—Ä–µ–º–∏—É–º',
    description: '–ü—Ä–µ–º–∏—É–º —Å—Ç—Ä–∏–∂–∫–∞ —Å –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–µ–π —Å—Ç–∏–ª–∏—Å—Ç–∞, –º—ã—Ç—å–µ–º –ø—Ä–µ–º–∏—É–º —à–∞–º–ø—É–Ω–µ–º, —Å—Ç—Ä–∏–∂–∫–æ–π –∏ —É–∫–ª–∞–¥–∫–æ–π –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–º–∏ —Å—Ä–µ–¥—Å—Ç–≤–∞–º–∏.',
    price: 3290,
    duration: 75,
  },
];

async function addTestServices() {
  try {
    console.log('üîÑ –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤—ã—Ö —É—Å–ª—É–≥...');

    // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ —É–∂–µ —É—Å–ª—É–≥–∏
    const existingCount = await pool.query('SELECT COUNT(*)::int AS count FROM services');
    
    if (existingCount.rows[0].count > 0) {
      console.log(`‚ö†Ô∏è  –í –±–∞–∑–µ —É–∂–µ –µ—Å—Ç—å ${existingCount.rows[0].count} —É—Å–ª—É–≥. –ü—Ä–æ–ø—É—Å–∫–∞–µ–º –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ.`);
      console.log('–ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å —É—Å–ª—É–≥–∏, —É–¥–∞–ª–∏—Ç–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Å–Ω–∞—á–∞–ª–∞.');
      process.exit(0);
    }

    // –î–æ–±–∞–≤–ª—è–µ–º —É—Å–ª—É–≥–∏
    for (const service of services) {
      await pool.query(
        `INSERT INTO services (title, description, price, duration)
         VALUES ($1, $2, $3, $4)`,
        [service.title, service.description, service.price, service.duration],
      );
      console.log(`‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ —É—Å–ª—É–≥–∞: ${service.title}`);
    }

    console.log(`\n‚úÖ –í—Å–µ —É—Å–ª—É–≥–∏ —É—Å–ø–µ—à–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω—ã! (${services.length} —à—Ç.)`);
    process.exit(0);
  } catch (error) {
    console.error('‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ —É—Å–ª—É–≥:', error.message);
    process.exit(1);
  } finally {
    await pool.end();
  }
}

addTestServices();

