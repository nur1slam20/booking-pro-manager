#!/bin/bash

# –°–∫—Ä–∏–ø—Ç –¥–ª—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã Git —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

echo "üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã Git —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è..."

# –ü–µ—Ä–µ—Ö–æ–¥–∏–º –≤ –ø–∞–ø–∫—É –ø—Ä–æ–µ–∫—Ç–∞
cd "/Users/nurislam/Desktop/Booking Pro Manager"

# –°–æ—Ö—Ä–∞–Ω—è–µ–º URL remote
REMOTE_URL=$(git remote get-url origin 2>/dev/null)

if [ -z "$REMOTE_URL" ]; then
    echo "‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å –Ω–∞–π—Ç–∏ remote URL"
    exit 1
fi

echo "üìã Remote URL: $REMOTE_URL"

# –£–¥–∞–ª—è–µ–º —Å—Ç–∞—Ä—ã–π .git (–µ—Å–ª–∏ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ —ç—Ç–æ–π –ø–∞–ø–∫–µ)
if [ -d ".git" ]; then
    echo "‚ö†Ô∏è  –£–¥–∞–ª–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ .git..."
    rm -rf .git
fi

# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –Ω–æ–≤—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
echo "üîÑ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è..."
git init
git branch -M main

# –î–æ–±–∞–≤–ª—è–µ–º remote
echo "üîó –î–æ–±–∞–≤–ª–µ–Ω–∏–µ remote..."
git remote add origin "$REMOTE_URL"

# –î–æ–±–∞–≤–ª—è–µ–º –≤—Å–µ —Ñ–∞–π–ª—ã
echo "üì¶ –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤..."
git add .

# –°–æ–∑–¥–∞–µ–º –∫–æ–º–º–∏—Ç
echo "üíæ –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–º–∏—Ç–∞..."
git commit -m "Fix repository structure - move root to project folder"

echo ""
echo "‚úÖ –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∏—Å–ø—Ä–∞–≤–ª–µ–Ω!"
echo ""
echo "üì§ –¢–µ–ø–µ—Ä—å –Ω—É–∂–Ω–æ –∑–∞–ø—É—à–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è:"
echo "   git push -u origin main --force"
echo ""
echo "‚ö†Ô∏è  –í–ù–ò–ú–ê–ù–ò–ï: --force –ø–µ—Ä–µ–∑–∞–ø–∏—à–µ—Ç –∏—Å—Ç–æ—Ä–∏—é –Ω–∞ GitHub!"
echo "   –ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ: git push -u origin main"

